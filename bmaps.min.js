BMaps={},BMaps.Options=Object.create({Map:{backgroundColor:Microsoft.Maps.Color,credentials:null,customizeOverlays:!1,disableBirdseye:!1,disableKeyboardInput:!1,disableMouseInput:!1,disablePanning:!1,disableTouchInput:!1,DisableUserInput:!1,disableZooming:!1,enableClickableLogo:!0,enableSearchLogo:!0,fixedMapPosition:!1,height:null,inertialIntensity:.85,showBreadCrumb:!1,showCopyright:!0,showDashboard:!0,showMapTypeSelector:!0,showScalebar:!0,theme:null,tileBuffer:0,userIntertia:!0,width:null},MapView:{animate:!0,bounds:!1,center:null,centerOffset:null,heading:0,labelOverlay:null,mapTypeId:null,padding:0,zoom:10},Data:{FourthCoffeeSample:{},NAVTEQNA:{urlString:"f22876ec257b474b82fe2ffcb8393150/NAVTEQNA/NAVTEQPOIs",properties:{EntityId:null,Name:null,DisplayName:null,Latitude:null,Longitude:null,AddressLine:null,Locality:null,AdminDistrict:null,AdminDistrict2:null,PostalCode:null,CountryRegion:null,Phone:null,EntityTypeId:null}},NAVTEQEU:{},TrafficIncidents:{}}}),BMaps.Utils=function(){var t=Object.create({id:function(){return this.count||(this.count=0),++this.count},defaults:function(t,n,i){var e,o={};if(t)for(e in t)o[e]=t[e];t||(o={});for(e in n)o[e]||n[e]&&(o[e]=n[e]);if(i)for(e in o)e in n||delete o[e];return o},merge:function(t){for(var n,i,e=Array.prototype.slice.apply(arguments);e.length>1;){n=e.splice(1,1)[0];for(i in n)t[i]=n[i]}return t},chain:function(t,n){return function(){return t.apply(n,arguments),n}},location:function(t,n){return new Microsoft.Maps.Location(t,n)},JSONPHandler:function(t){this.count||(this.count=0);var n="BMapsJSONP"+ ++this.count;return window[n]=function(i){t(i),document.body.removeChild(document.getElementById(n)),delete window[n]},n},JSONPRequest:function(t,n){var i,e=document.createElement("script");n&&(t+="?");for(i in n)t+=[i,n[i]].join("=")+"&";e.setAttribute("src",t.substr(0,t.length-1)),e.setAttribute("id",n.jsonp),document.body.appendChild(e)},allowMixins:function(t){t.mixin=function(t){for(var n in t)BMap.prototype[n]=t[n]}},bind:function(t,n){return function(){t.apply(n,arguments)}},wrapAll:function(t,n){for(var i in t)if(/function/gi.test(""+t[i])){var e=t[i];t[i]=function(){n.call(t,e,arguments)}}}});return t}(),BMaps.Events=function(){return BMapsEvents=Object.create({trigger:function(t){var n,i=Array.prototype.slice.apply(arguments),e=this._events[t];for(n=0;e.length>n;n++)e[n].callback.apply(e[n].scope||this,i.slice(1)),e[n].one&&this.off(t,e[n].callback,e[n].scope);return this},on:function(t,n,i){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:n,scope:i,one:n.one}),this},one:function(t,n){n.one=!0,this.on.apply(this,arguments)},off:function(t,n,i){if(!this._events[t])return this;var e,o=[];if(!arguments.length)return this._events={},this;if(1===arguments.length)return this._events[t]=[],this;for(e=0;this._events[t].length>e;e++){var s=this._events[t];""+s[e].callback==""+n&&(i&&s[e].scope===i?o.push(e):o.push(e))}for(;o.length;)this._events[t].splice(o.shift(),1);return this}})}(),BMaps.Map=function(){function t(){var t=BMaps.Utils.defaults;return options=arguments[1]||{},options.key||(options.credentials=BMaps.key),this._mapInstance=new Microsoft.Maps.Map(options.el||document.body,t(options,BMaps.Options.Map,!0)),this}return t}(),BMaps.Location=function(){function t(t){this._root=t,this.map=function(){return this.root._map||this.root}}return t.prototype=Object.create({_mixWith:["BMapsView","BMapsPin","BMapsDirections"],_mixables:{location:function(){return this._location||(this._location=new t(this._root)),this._mixWith&&~this._mixWith.indexOf("BMapsLocation")&&(this._location["_"+this.constructor.name]=this),this._location}},_coords:{lat:0,lon:0},current:function(){return this._coords.lat||this._coords.lon?new Microsoft.Maps.Location(this._coords.lat,this._coords.lon):this},geocode:function(){},geolocation:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(t.geolocationSuccessHandler(this),t.geolocationErrorHandler(this))},set:function(){},get:function(){}}),t.geolocationSuccessHandler=function(t){return function(n){return t._coords={lat:n.coords.latitude,lon:n.coords.longitude},!0}},t.geolocationErrorHandler=function(){return function(){return!1}},t}(),BMaps.Pin=function(){function t(t){this._root=t,this.map=function(){return this.root._map||this.root}}return t.prototype=Object.create({_mixWith:["BMapsLocation","BMapsDirections"],_mixables:{pin:function(){return this._pin||(this._pin=new t(this)),this._mixWith&&~this._mixWith.indexOf("BMapsPin")&&(this._pin["_"+this.constructor.name]=this),this._pin.add(),this._pin}},add:function(t){t=t||{};var n=this.location();return n.current().latitude&&n.current().longitude&&this.map().entities.push(new Microsoft.Maps.PushPin(n.current(),t)),this},get:function(t){return t?(this.map().entities.get(t),this):this.map().entities},show:function(t){var n=this.map().entities;if(t)n.get(t).setOptions({visible:!0});else for(t=0;n.length>t;t++)n.get(t).setOptions({visible:!0});return this},hide:function(t){var n=this.map().entities;if(t)n.get(t).setOptions({visible:!1});else for(t=0;n.length>t;t++)n.get(t).setOptions({visible:!1});return this},remove:function(t){var n=this.map().entities;return t?n.removeAt(t):n.clear(),this}}),t}(),BMaps.Directions=function(){function t(){this._root=root,this.map=function(){return this.root._map||this.root}}return t.prototype=Object.create({_mixWith:["BMapsLocation","BMapsPin"],_mixables:{directions:function(){return this._directions?(this._mixWith&&~this._mixWith.indexOf("BMapsDirections")&&(this._pin["_"+this.constructor.name]=this),this._directions):new t(this._root)}},to:function(t){this._manager||(this._manager=new Microsoft.Maps.Directions.DirectionsManager(this.map())),this._manager.addWaypoint({location:this.location().get()}),this._manager.addWaypoint({address:t})},from:function(t){this._manager||(this._manager=new Microsoft.Maps.Directions.DirectionsManager(this.map())),this._manager.addWaypoint({address:t}),this._manager.addWaypoint({location:this.location().get()})}}),t}(),BMaps.View=function(){function t(){}return t.prototype=Object.create({}),t}(),BMaps=function(){var t={BMapsPin:BMaps.Pin,BMapsLocation:BMaps.Location,BMapsDirections:BMaps.Directions,BMapsMap:BMaps.Map,BMapsView:BMaps.View};for(var n in t){var i=t[n];for(var e in i.prototype._mixWith){var o=t[i.prototype._mixWith[e]];for(var s in i.prototype._mixables)o.prototype[s]=i.prototype._mixables[s]}}return BMaps}();